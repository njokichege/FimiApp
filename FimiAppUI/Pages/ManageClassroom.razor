@page "/Pages/ManageClassroom"

@inherits ManageClassroomBase

<MudDivider DividerType="DividerType.FullWidth" Class="my-6" />

<MudGrid>
    <MudItem xs="3">
        <MudCard>
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Style="@($"margin-top:20px;")" Typo="Typo.h5" Align="Align.Center">Add Class</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudDivider DividerType="DividerType.FullWidth" Class="my-6" />
            <MudCardContent>
                <MudAutocomplete T="FormModel" Label="Form" @bind-Value="SelectedForm" ShowProgressIndicator="true"
                                 SearchFunc="@FormSearch" ToStringFunc="@(e=> e==null?null : $"{e.Form}")" />
                <MudAutocomplete T="StreamModel" Label="Stream" @bind-Value="SelectedStream" ShowProgressIndicator="true"
                                 SearchFunc="@StreamSearch" ToStringFunc="@(e=> e==null?null : $"{e.Stream}")" />
                <MudAutocomplete T="SessionYearModel" Label="Session Year" @bind-Value="SelectedSessionYear" ShowProgressIndicator="true"
                                 SearchFunc="@SessionYearSearch" ToStringFunc="@(e=> e==null?null : $"{e.SessionYear}")" />
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" FullWidth="true" StartIcon="@Icons.Material.Filled.Save" Style="background-color:#e38d43">Add Class</MudButton>
            </MudCardActions>
        </MudCard>
        <MudCard Style="margin-top:20px">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Style="@($"margin-top:20px;")" Typo="Typo.h5" Align="Align.Center">Assign Class Teacher</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudDivider DividerType="DividerType.FullWidth" Class="my-6" />
            <MudCardContent>
                <MudAutocomplete T="FormModel" Label="Form" @bind-Value="SelectedForm2" ShowProgressIndicator="true"
                                 SearchFunc="@FormSearch2" ToStringFunc="@(e=> e==null?null : $"{e.Form}{e.FormId}")" />
                <MudSelect T="string" Label="Select Teacher" AnchorOrigin="Origin.BottomCenter">
                    <MudSelectItem T="string" Value="@("Alice Wambui")" />
                    <MudSelectItem T="string" Value="@("Christine Karume")" />
                    <MudSelectItem T="string" Value="@("Bednah Nzimbi")" />
                    <MudSelectItem T="string" Value="@("Pauline Njue")" />
                </MudSelect>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" FullWidth="true" StartIcon="@Icons.Material.Filled.Save" Style="background-color:#e38d43">Submit</MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
    <MudItem xs="8">
        <MudCard Style="margin-bottom: 20px">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Style="@($"margin-top:20px;")" Typo="Typo.h5" Align="Align.Center">School Year : @SessionYearModelTitle</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudDivider DividerType="DividerType.FullWidth" Class="my-6" />
            <MudCardContent>
                <MudAutocomplete T="SessionYearModel" Label="Session Year" @bind-Value="SessionYear2" ShowProgressIndicator="true"
                                 SearchFunc="@SessionYearSearch2" ToStringFunc="@(e=> e==null?null : $"{e.SessionYear}")" />
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" FullWidth="true" StartIcon="@Icons.Material.Filled.Save" Style="background-color:#e38d43">Submit</MudButton>
            </MudCardActions>
        </MudCard>
        <MudDataGrid Items="@Classes">
            <Columns>
                <PropertyColumn Property="x => x.FormId" Title="Form" />
                <PropertyColumn Property="x => x.StreamId" Title="Stream" />
                <PropertyColumn Property="x => x.SessionYearId" Title="SessionYear" />
                <PropertyColumn Property="x => x.ClassTeacherId" Title="Class Teacher" />
                <PropertyColumn Property="x => x.Capacity" Title="Capacity" />
            </Columns>
        </MudDataGrid>
    </MudItem>
</MudGrid>
<MudGrid>

</MudGrid>





