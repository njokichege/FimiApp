@page "/Pages/ManageClassroom"

@inherits ManageClassroomBase

<MudDivider DividerType="DividerType.FullWidth" Class="my-6" />

<MudGrid>
    <MudItem xs="3">
        <MudCard>
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Style="@($"margin-top:20px;")" Typo="Typo.h5" Align="Align.Center">Add Class</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudDivider DividerType="DividerType.FullWidth" Class="my-6" />
            <MudCardContent>
                <MudAutocomplete T="FormModel" Label="Form" @bind-Value="SelectedFormOnClassCard" ShowProgressIndicator="true"
                                 SearchFunc="@FormSearchOnClassCard" ToStringFunc="@(e=> e==null?null : $"{e.Form}")" />
                <MudAutocomplete T="StreamModel" Label="Stream" @bind-Value="SelectedStreamOnClassCard" ShowProgressIndicator="true"
                                 SearchFunc="@StreamSearchOnClassCard" ToStringFunc="@(e=> e==null?null : $"{e.Stream}")" />
                <MudAutocomplete T="SessionYearModel" Label="Session Year" @bind-Value="SelectedSessionYearOnClassCard" ShowProgressIndicator="true"
                                 SearchFunc="@SessionYearSearchOnClassCard" ToStringFunc="@(e=> e==null?null : $"{e.SessionYear}")" />
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" FullWidth="true" StartIcon="@Icons.Material.Filled.Save" Style="background-color:#e38d43">Add Class</MudButton>
            </MudCardActions>
        </MudCard>
        <MudCard Style="margin-top:20px">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Style="@($"margin-top:20px;")" Typo="Typo.h5" Align="Align.Center">Assign Class Teacher</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudDivider DividerType="DividerType.FullWidth" Class="my-6" />
            <MudCardContent>
                <MudAutocomplete T="FormModel" Label="Form" @bind-Value="SelectedFormOnTeacherCard" ShowProgressIndicator="true"
                                 SearchFunc="@FormSearchOnTeacherCard" ToStringFunc="@(e=> e==null?null : $"{e.Form}")" />
                <MudAutocomplete T="StreamModel" Label="Stream" @bind-Value="SelectedStreamOnTeacherCard" ShowProgressIndicator="true"
                                 SearchFunc="@StreamSearchOnTeacherCard" ToStringFunc="@(e=> e==null?null : $"{e.Stream}")" />
                <MudAutocomplete T="TeacherModel" Label="Teacher" @bind-Value="SelectedTeacherOnTeacherCard" ShowProgressIndicator="true"
                                 SearchFunc="@TeacherSearchOnTeacherCard" ToStringFunc="@(e=> e==null?null : $"{e.TeacherId}")" />
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" FullWidth="true" StartIcon="@Icons.Material.Filled.Save" Style="background-color:#e38d43">Submit</MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
    <MudItem xs="8">
        <MudCard Style="margin-bottom: 20px">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Style="@($"margin-top:20px;")" Typo="Typo.h5" Align="Align.Center">School Year : @SessionYearModelTitle</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudDivider DividerType="DividerType.FullWidth" Class="my-6" />
            <MudCardContent>
                <MudAutocomplete T="SessionYearModel" Label="Change School Year" @bind-Value="SelectedSessionYearOnSessionYearCard" ShowProgressIndicator="true"
                                 SearchFunc="@SessionYearSearchOnSessionYearCard" ToStringFunc="@(e=> e==null?null : $"{e.SessionYear}")" />
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" FullWidth="true" StartIcon="@Icons.Material.Filled.Save" Style="background-color:#e38d43">Submit</MudButton>
            </MudCardActions>
        </MudCard>
        <MudDataGrid Items="@Classes">
            <Columns>
                <PropertyColumn Property="x => x.ClassId" Title="#" />
                <PropertyColumn Property="x => x.Form.Form" Title="Form" />
                <PropertyColumn Property="x => x.Stream.Stream" Title="Stream" />
            </Columns>
        </MudDataGrid>
    </MudItem>
</MudGrid>
<MudGrid>

</MudGrid>





